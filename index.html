<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

		<!-- GSAP + ScrollTrigger -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
		<title>GSAP ScrollTrigger Flip Demo</title>
		<style>
			body,
			html {
				margin: 0;
				padding: 0;
				height: 100%;
			}
			section {
				height: 100vh;
				display: flex;
				justify-content: center;
				align-items: center;
				font-family: sans-serif;
			}
			.fixed-header {
				position: fixed;
				top: 500px;
				left: 400px;
				z-index: 1000;
			}
			.titleA,
			.titleB,
			.subA,
			.subB {
				position: absolute;
				white-space: nowrap;
			}
			.titleA,
			.titleB {
				top: 80px;
				left: 0;
				font-weight: 700;
			}
			.subA,
			.subB {
				top: 0;
				left: 0;
			}

			.movin-box {
				position: fixed;
				display: flex;
				justify-content: center;
				align-items: center;
				font-weight: 300;
				z-index: 2;
				width: 800px;
			}

			.boxA,
			.boxB {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				/* display: flex;
				justify-content: center;
				align-items: center; */
			}

			/* bar 초기값 */
			.bar1,
			.bar2,
			.bar3,
			.bar4 {
				background: #333;
				border: none;
				width: 100px;
				height: 4px;
				z-index: 1;
			}
		</style>
	</head>
	<body>
		<!-- 고정 헤더 -->
		<div class="fixed-header">
			<div class="subA"></div>
			<div class="subB"></div>
			<div class="titleA"></div>
			<div class="titleB"></div>
		</div>

		<!-- 움직이는 텍스트 박스 4개 -->
		<div class="movin-box box1">
			<div class="boxA"></div>
			<div class="boxB"></div>
		</div>
		<div class="movin-box box2">
			<div class="boxA"></div>
			<div class="boxB"></div>
		</div>
		<div class="movin-box box3">
			<div class="boxA"></div>
			<div class="boxB"></div>
		</div>
		<div class="movin-box box4">
			<div class="boxA"></div>
			<div class="boxB"></div>
		</div>
		<div class="movin-box box5">
			<div class="boxA"></div>
			<div class="boxB"></div>
		</div>
		<div class="movin-box box6">
			<div class="boxA"></div>
			<div class="boxB"></div>
		</div>
		<div class="movin-box box7">
			<div class="boxA"></div>
			<div class="boxB"></div>
		</div>

		<!-- bar 전용 박스 2개 -->
		<div class="movin-box bar1"></div>
		<div class="movin-box bar2"></div>
		<div class="movin-box bar3"></div>
		<div class="movin-box bar4"></div>

		<!-- 페이지 섹션들 -->
		<section
			class="panel"
			data-bg="#204e91"
			data-header-top="580"
			data-header-left="150"
			data---------------------TITLE-----------------=""
			data-title="최고의 선택 에픽스 디자인"
			data-title-color="#ffffff"
			data-title-size="100px"
			data-title-top="100"
			data---------------------SUBTITLE-----------------=""
			data-subtitle="웅장함과 감동"
			data-subtitle-color="#ffffff"
			data-subtitle-size="80px"
			data---------------------BOX1-----------------=""
			data-box1-color="#ffffff"
			data-box1-size="16px"
			data-box1-weight="400"
			data-box1-text="에픽스는 감동적이고 웅장한 이야기를 담은 디자인을 만들어내며, 고객에게 최고의 선택이
되기 위해 끊임없이 노력하는 디자인 스튜디오입니다. 우리는 큰 비전을 품고 있으며,
그 안에서 고객이 꿈꾸는 모든 것을 디자인으로 실현할 수 있도록 돕습니다.
에픽스는 독창성과 감동을 전달하며, 언제나 최고의 선택으로 남기를 추구합니다"
			data-box1-top="100"
			data-box1-left="150"
			data---------------------BOX2-----------------=""
			data-box2-color="#fff"
			data-box2-size="20px"
			data-box2-weight="700"
			data-box2-text="WWW.EPICS1.CO.KR"
			data-box2-top="100"
			data-box2-left="1150"
			data---------------------BOX3-----------------=""
			data-box3-color="#fff"
			data-box3-size="20px"
			data-box3-weight="700"
			data-box3-text="HYUCHAN AD."
			data-box3-top="100"
			data-box3-left="1600"
			data---------------------BOX4-----------------=""
			data-box4-color="#ff9900"
			data-box4-size="16px"
			data-box4-weight="400"
			data-box4-text=""
			data-box4-top="500"
			data-box4-left="600"
			data---------------------BOX5-----------------=""
			data-box5-color="#fff"
			data-box5-size="20px"
			data-box5-weight="700"
			data-box5-text=""
			data-box5-top="100"
			data-box5-left="1600"
			data---------------------BOX6-----------------=""
			data-box6-color="#ff9900"
			data-box6-size="16px"
			data-box6-weight="600"
			data-box6-text=""
			data-box6-top="500"
			data-box6-left="600"
			data---------------------BOX7-----------------=""
			data-box7-color="#333"
			data-box7-size="16px"
			data-box7-weight="600"
			data-box7-text=""
			data-box7-top="500"
			data-box7-left="600"
			data---------------------BAR1-----------------=""
			data-bar1-top="5%"
			data-bar1-left="5%"
			data-bar1-width="90%"
			data-bar1-height="4"
			data-bar1-bg="#fff"
			data-bar1-border=""
			data---------------------BAR2-----------------=""
			data-bar2-top="95%"
			data-bar2-left="5%"
			data-bar2-width="90%"
			data-bar2-height="4"
			data-bar2-bg="#fff"
			data---------------------BAR3-----------------=""
			data-bar3-top="380"
			data-bar3-left="80"
			data-bar3-width="900px"
			data-bar3-height="0"
			data-bar3-bg="#9bc4ff"
			data-bar3-border=""
			data---------------------BAR4-----------------=""
			data-bar4-top="95%"
			data-bar4-left="80"
			data-bar4-width="94%"
			data-bar4-height="0"
			data-bar4-bg="#333"></section>

		<section
			class="panel"
			data-bg="#fff"
			data-header-top="80"
			data-header-left="80"
			data---------------------SUBTITLE-----------------=""
			data-subtitle="PRESENTATION CONTENT"
			data-subtitle-color="#204e91"
			data-subtitle-size="30px"
			data---------------------TITLE-----------------=""
			data-title="에픽스를 소개합니다."
			data-title-color="#333"
			data-title-size="100px"
			data-title-top="30"
			data---------------------BOX1-----------------=""
			data-box1-color="#333"
			data-box1-size="24px"
			data-box1-weight="700"
			data-box1-text="01<br/><br/>02<br/><br/>03<br/><br/>04<br/><br/>05<br/><br/>06"
			data-box1-top="400"
			data-box1-left="1050"
			data---------------------BOX2-----------------=""
			data-box2-color="#333"
			data-box2-size="24px"
			data-box2-weight="700"
			data-box2-text="회사 소개 : 웹 디자인 및 산업 디자인 전문 에픽스<br/><br/>
			브랜드 미션 : 이런 꿈을 가지고 운영하고 있습니다.<br/><br/>
			사업 소개 : 브랜드의 모든 콘텐츠에 동행합니다.<br/><br/>
			팀 소개 : 콘텐츠 전문가로 구성된 브랜드 담당팀<br/><br/>
			포트폴리오 : 그 광고! 에픽스의 작품입니다.<br/><br/>
			대표 인사 : 우리의 목표는 고객의 성공"
			data-box2-top="400"
			data-box2-left="1150"
			data---------------------BOX3-----------------=""
			data-box3-color="#204e91"
			data-box3-size="90px"
			data-box3-weight="700"
			data-box3-text="EPICS AD."
			data-box3-top="650"
			data-box3-left="80"
			data---------------------BOX4-----------------=""
			data-box4-color="#ff9900"
			data-box4-size="16px"
			data-box4-weight="400"
			data-box4-text=""
			data-box4-top="500"
			data-box4-left="600"
			data---------------------BOX5-----------------=""
			data-box5-color="#fff"
			data-box5-size="20px"
			data-box5-weight="700"
			data-box5-text=""
			data-box5-top="100"
			data-box5-left="1600"
			data---------------------BOX6-----------------=""
			data-box6-color="#ff9900"
			data-box6-size="16px"
			data-box6-weight="600"
			data-box6-text=""
			data-box6-top="500"
			data-box6-left="600"
			data---------------------BOX7-----------------=""
			data-box7-color="#333"
			data-box7-size="16px"
			data-box7-weight="600"
			data-box7-text=""
			data-box7-top="500"
			data-box7-left="600"
			data---------------------BAR1-----------------=""
			data-bar1-top="200"
			data-bar1-left="80"
			data-bar1-width="900px"
			data-bar1-height="40"
			data-bar1-bg="#9bc4ff"
			data-bar1-border=""
			data---------------------BAR2-----------------=""
			data-bar2-top="95%"
			data-bar2-left="80"
			data-bar2-width="92%"
			data-bar2-height="0"
			data-bar2-bg="#333"
			data---------------------BAR3-----------------=""
			data-bar3-top="380"
			data-bar3-left="80"
			data-bar3-width="900px"
			data-bar3-height="0"
			data-bar3-bg="#fff"
			data-bar3-border=""
			data---------------------BAR4-----------------=""
			data-bar4-top="95%"
			data-bar4-left="80"
			data-bar4-width="94%"
			data-bar4-height="0"
			data-bar4-bg="#fff"></section>

		<section
			class="panel"
			data-bg="#fff"
			data-header-top="80"
			data-header-left="80"
			data---------------------SUBTITLE-----------------=""
			data-subtitle="CONTENT 01"
			data-subtitle-color="#204e91"
			data-subtitle-size="30px"
			data---------------------TITLE-----------------=""
			data-title="홈페이지<br/>상세페이지<br/>콘텐츠 마케팅<br/>에픽스."
			data-title-color="#333"
			data-title-size="80px"
			data-title-top="40"
			data---------------------BOX1-----------------=""
			data-box1-color="#9c9c9c"
			data-box1-size="20px"
			data-box1-weight="400"
			data-box1-text="에픽스는 고객의 브랜드 철학과 비전을 반영하여<br/>
고객과 브랜드가 만나는 모든 디지털 접점을 <br/>
통합하는 일관된 디자인을 제공하며,<br/>
브랜드의 메시지를 고객에게 가장 효과적으로<br/>
전달할 수 있도록 설계합니다."
			data-box1-top="650"
			data-box1-left="80"
			data---------------------BOX2-----------------=""
			data-box2-color="#fff"
			data-box2-size="20px"
			data-box2-weight="400"
			data-box2-text="# 홈페이지 제작<br/>
에픽스의 웹디자인은 단순한 화면 구성을 넘어, 브랜드의 정체성을 반영하고 사용자 <br/>
경험을 최우선으로 고려한 UX/UI 디자인을 제공합니다. 최신 웹디자인 트렌드와 <br/>
기술을 적극적으로 반영하여, 트렌디 하면서도 지속 가능한 디자인을 제공합니다.<br/><br/>
# 상세페이지 제작<br/>
에픽스는 고객의 제품과 서비스를 가장 매력적이고 효과적으로 전달 할 수 있는 <br/>
상세페이지를 디자인합니다. 에픽스의 상세페이지는 단순히 제품 정보를 나열하는 것을 <br/>
넘어, 제품의 핵심 가치를 강조하고, 구매 욕구를 자극할 수 있는 감성적인 디자인을 제공<br/>
합니다.<br/><br/>
# 콘텐츠 마케팅<br/>
에픽스는 콘텐츠 마케팅 전문 에이전시로 트렌드에 맞는 전략과 아이디어로 <br/>
브랜드 이미지를 확산합니다. 디지털 에이전시로서 SNS 광고, 바이럴 콘텐츠 제작, <br/>
웹 예능 제작 등을 통해 고객의 성공을 돕습니다."
			data-box2-top="300"
			data-box2-left="800"
			data---------------------BOX3-----------------=""
			data-box3-color="#fff"
			data-box3-size="90px"
			data-box3-weight="700"
			data-box3-text="EPICS AD."
			data-box3-top="100"
			data-box3-left="800"
			data---------------------BOX4-----------------=""
			data-box4-color="#ff9900"
			data-box4-size="16px"
			data-box4-weight="400"
			data-box4-text=""
			data-box4-top="500"
			data-box4-left="600"
			data---------------------BOX5-----------------=""
			data-box5-color="#333"
			data-box5-size="20px"
			data-box5-weight="700"
			data-box5-text=""
			data-box5-top="1000"
			data-box5-left="1600"
			data---------------------BOX6-----------------=""
			data-box6-color="#333"
			data-box6-size="16px"
			data-box6-weight="600"
			data-box6-text=""
			data-box6-top="1000"
			data-box6-left="0"
			data---------------------BOX7-----------------=""
			data-box7-color="#333"
			data-box7-size="16px"
			data-box7-weight="600"
			data-box7-text=""
			data-box7-top="500"
			data-box7-left="600"
			data---------------------BAR1-----------------=""
			data-bar2-top="250"
			data-bar2-left="800"
			data-bar2-width="1000px"
			data-bar2-height="0"
			data-bar2-bg="#204e91"
			data-bar2-border="2px dotted #fff"
			data---------------------BAR2-----------------=""
			data-bar1-top="50"
			data-bar1-left="700"
			data-bar1-width="1220px"
			data-bar1-height="800px"
			data-bar1-bg="#204e91"
			data---------------------BAR3-----------------=""
			data-bar3-top="50"
			data-bar3-left="0"
			data-bar3-width="100%"
			data-bar3-height="4"
			data-bar3-bg="#9c9c9c"
			data-bar3-border=""
			data---------------------BAR4-----------------=""
			data-bar4-top="850"
			data-bar4-left="0"
			data-bar4-width="100%"
			data-bar4-height="4"
			data-bar4-bg="#9c9c9c"
			data-bar4-border=""></section>

		<section
			class="panel"
			data-bg="#fff"
			data-header-top="80"
			data-header-left="80"
			data---------------------SUBTITLE-----------------=""
			data-subtitle="CONTENT 02"
			data-subtitle-color="#204e91"
			data-subtitle-size="30px"
			data---------------------TITLE-----------------=""
			data-title="이런 꿈을 가지고 운영하고 있습니다."
			data-title-color="#333"
			data-title-size="80px"
			data-title-top="40"
			data---------------------BOX1-----------------=""
			data-box1-color="#204e91"
			data-box1-size="24px"
			data-box1-weight="700"
			data-box1-text="에픽스(EPICS) 브랜드 미션"
			data-box1-top="350"
			data-box1-left="800"
			data---------------------BOX2-----------------=""
			data-box2-color="#333"
			data-box2-size="20px"
			data-box2-weight="400"
			data-box2-text="에픽스는 세상을 놀라게 할만한 창의적이고 <br/>
감동적인 디자인을 통해, 사람들의 삶을 <br/>
풍요롭게 만드는 것을 꿈꾸고 있습니다.<br/>
디자인을 통해 브랜드의 이야기를 담아내며, <br/>
에픽스와 함께하는 모든 프로젝트가 마치 <br/>
하나의 서사(Epic)로서 기억될 수 있는 <br/>
특별한 경험을 창출하고자 합니다."
			data-box2-top="400"
			data-box2-left="800"
			data---------------------BOX3-----------------=""
			data-box3-color="#204e91"
			data-box3-size="90px"
			data-box3-weight="700"
			data-box3-text="OUR VISION."
			data-box3-top="650"
			data-box3-left="80"
			data---------------------BOX4-----------------=""
			data-box4-color="#204e91"
			data-box4-size="24px"
			data-box4-weight="700"
			data-box4-text="브랜드 비전"
			data-box4-top="350"
			data-box4-left="1300"
			data---------------------BOX5-----------------=""
			data-box5-color="#333"
			data-box5-size="20px"
			data-box5-weight="400"
			data-box5-text="에픽스는 창의적인 기획과 브랜드에 최적화된 <br/>
솔루션을 통해 디자인의 새로운 기준을 제시하고,<br/>
고객이 항상 최고의 선택(Pick)을 할 수 있도록 <br/>
돕는 것을 목표로 합니다. 에픽스는 지속 가능한 <br/>
디자인, 혁신적인 아이디어, 그리고 완벽한 실행력을<br/>
바탕으로 전 세계적으로 인정받는 디자인 스튜디오로<br/>
성장해 나갈 것입니다.<br/><br/>
이 비전은 에픽스가 단순한 디자인 회사에 <br/>
머무르지 않고, 고객에게 감동을 주는 디자인을 통해<br/>
글로벌 시장에서 인정받는 리더로 자리매김하고자 <br/>
하는 목표를 담고 있습니다."
			data-box5-top="400"
			data-box5-left="1300"
			data---------------------BOX6-----------------=""
			data-box6-color="#333"
			data-box6-size="16px"
			data-box6-weight="600"
			data-box6-text=""
			data-box6-top="500"
			data-box6-left="600"
			data---------------------BOX7-----------------=""
			data-box7-color="#333"
			data-box7-size="16px"
			data-box7-weight="600"
			data-box7-text=""
			data-box7-top="500"
			data-box7-left="600"
			data---------------------BAR1-----------------=""
			data-bar2-top="250"
			data-bar2-left="2100"
			data-bar2-width="1000px"
			data-bar2-height="0"
			data-bar2-bg="#204e91"
			data-bar2-border="2px dotted #fff"
			data---------------------BAR2-----------------=""
			data-bar1-top="50"
			data-bar1-left="1900"
			data-bar1-width="1220"
			data-bar1-height="800"
			data-bar1-bg="#fff"
			data---------------------BAR3-----------------=""
			data-bar3-top="50"
			data-bar3-left="0"
			data-bar3-width="100%"
			data-bar3-height="4"
			data-bar3-bg="#9c9c9c"
			data-bar3-border=""
			data---------------------BAR4-----------------=""
			data-bar4-top="850"
			data-bar4-left="0"
			data-bar4-width="100%"
			data-bar4-height="4"
			data-bar4-bg="#9c9c9c"
			data-bar4-border=""></section>

		<section
			class="panel"
			data-bg="#fff"
			data-header-top="80"
			data-header-left="80"
			data---------------------SUBTITLE-----------------=""
			data-subtitle="CONTENT 03"
			data-subtitle-color="#204e91"
			data-subtitle-size="30px"
			data---------------------TITLE-----------------=""
			data-title="브랜드의<br/>
모든 콘텐츠에<br/>
동행합니다."
			data-title-color="#333"
			data-title-size="80px"
			data-title-top="40"
			data---------------------BOX1-----------------=""
			data-box1-color="#204e91"
			data-box1-size="24px"
			data-box1-weight="700"
			data-box1-text="인터뷰 & 기획"
			data-box1-top="100"
			data-box1-left="800"
			data---------------------BOX2-----------------=""
			data-box2-color="#333"
			data-box2-size="20px"
			data-box2-weight="400"
			data-box2-text="고객의 목표와 니즈를 최우선으로 생각하며, 목표에 맞는 명확한 방향을 <br/>
제시하겠습니다. 세심한 분석과 전략적 접근을 통해 고객님의 비즈니스를 <br/>
한 단계 성장시키기 위한 구체적인 플랜을 마련하겠습니다. 다년간의 경험과 <br/>
전문성으로 고객님께서 신뢰할 수 있는 파트너가 되겠습니다."
			data-box2-top="150"
			data-box2-left="800"
			data---------------------BOX3-----------------=""
			data-box3-color="#9c9c9c"
			data-box3-size="20px"
			data-box3-weight="400"
			data-box3-text="에픽스는 고객의 브랜드 철학과 비전을 반영하여<br/>
고객과 브랜드가 만나는 모든 디지털 접점을 <br/>
통합하는 일관된 디자인을 제공하며,<br/>
브랜드의 메시지를 고객에게 가장 효과적으로<br/>
전달할 수 있도록 설계합니다."
			data-box3-top="650"
			data-box3-left="80"
			data---------------------BOX4-----------------=""
			data-box4-color="#204e91"
			data-box4-size="24px"
			data-box4-weight="700"
			data-box4-text="촬영 & 디자인"
			data-box4-top="300"
			data-box4-left="1300"
			data---------------------BOX5-----------------=""
			data-box5-color="#333"
			data-box5-size="20px"
			data-box5-weight="400"
			data-box5-text="브랜드의 독창성과 개성을 강조하는 맞춤형 <br/>
촬영과 디자인을 제공합니다. <br/>
브랜드 아이덴티티를 시각적으로 구현하고, <br/>
강력한 인상을 남기는 데 중점을 둡니다. <br/>
고객님의 비전과 요구에 맞춰 세심하게 <br/>
접근하여, 눈길을 사로잡는 시각적 결과물을 <br/>
만들어냅니다"
			data-box5-top="350"
			data-box5-left="1300"
			data---------------------BOX6-----------------=""
			data-box6-color="#204e91"
			data-box6-size="24px"
			data-box6-weight="700"
			data-box6-text="브랜드 스토리텔링"
			data-box6-top="600"
			data-box6-left="800"
			data---------------------BOX7-----------------=""
			data-box7-color="#333"
			data-box7-size="20px"
			data-box7-weight="400"
			data-box7-text="에픽스는 브랜드 철학과 가치를 깊이 이해하고, 시각적 스토리텔링을 통해 고객님의 <br/>
브랜드가 소비자와 깊이 연결될 수 있도록 돕겠습니다. 저희의 디자인은 단순히 <br/>
아름다움을 넘어서, 브랜드의 메시지를 효과적으로 전달하는 도구가 될 것입니다."
			data-box7-top="650"
			data-box7-left="800"
			data---------------------BAR1-----------------=""
			data-bar2-top="250"
			data-bar2-left="2100"
			data-bar2-width="1000px"
			data-bar2-height="0"
			data-bar2-bg="#204e91"
			data-bar2-border="2px dotted #fff"
			data---------------------BAR2-----------------=""
			data-bar1-top="50"
			data-bar1-left="1900"
			data-bar1-width="1220"
			data-bar1-height="800"
			data-bar1-bg="#fff"
			data---------------------BAR3-----------------=""
			data-bar3-top="50"
			data-bar3-left="0"
			data-bar3-width="100%"
			data-bar3-height="4"
			data-bar3-bg="#9c9c9c"
			data-bar3-border=""
			data---------------------BAR4-----------------=""
			data-bar4-top="850"
			data-bar4-left="0"
			data-bar4-width="100%"
			data-bar4-height="4"
			data-bar4-bg="#9c9c9c"
			data-bar4-border=""></section>

		<script>
			gsap.registerPlugin(ScrollTrigger);

			$(function () {
				let sections = document.querySelectorAll(".panel");
				let currentIndex = 0;
				let isAnimating = false;

				window.addEventListener("wheel", function (e) {
					if (isAnimating) return; // 애니메이션 중엔 무시
					if (e.deltaY > 0) {
						// 아래로
						if (currentIndex < sections.length - 1) {
							currentIndex++;
							goToSection(currentIndex);
						}
					} else {
						// 위로
						if (currentIndex > 0) {
							currentIndex--;
							goToSection(currentIndex);
						}
					}
				});

				function goToSection(index) {
					isAnimating = true;
					gsap.to(window, {
						duration: 1.2, // 이동 시간
						scrollTo: { y: sections[index], autoKill: false },
						ease: "power2.inOut", // 부드럽게
						onComplete: () => (isAnimating = false),
					});
				}

				// ------------------------------
				// 타이틀 + 서브타이틀 Flip
				// ------------------------------
				const subA = document.querySelector(".subA"),
					subB = document.querySelector(".subB"),
					titleA = document.querySelector(".titleA"),
					titleB = document.querySelector(".titleB");
				let useTitleA = true;

				function flipHeader(
					newSub,
					newTitle,
					subColor,
					titleColor,
					subSize,
					titleSize,
					titleTop
				) {
					let outSub = useTitleA ? subA : subB,
						inSub = useTitleA ? subB : subA,
						outTitle = useTitleA ? titleA : titleB,
						inTitle = useTitleA ? titleB : titleA;

					inSub.innerHTML = newSub;
					inTitle.innerHTML = newTitle;

					// 새 컬러 적용
					gsap.set(inSub, { color: subColor || "#000" });
					gsap.set(inTitle, { color: titleColor || "#000" });
					gsap.set(inTitle, { top: titleTop || "0" });

					gsap.set(inSub, { y: -40, opacity: 0 });
					gsap.set(inTitle, { y: -40, opacity: 0 });

					gsap
						.timeline()
						.to(outSub, { y: 40, opacity: 0, duration: 0.5, ease: "power1.in" })
						.to(
							outTitle,
							{ y: 40, opacity: 0, duration: 0.5, ease: "power1.in" },
							0.2
						)
						.to(
							inSub,
							{
								y: 0,
								opacity: 1,
								color: subColor || "#000",
								fontSize: subSize || "20px",
								duration: 0.5,
								ease: "power1.out",
							},
							0.2
						)
						.to(
							inTitle,
							{
								y: 0,
								opacity: 1,
								color: titleColor || "#000",
								fontSize: titleSize || "40px",
								duration: 0.5,
								ease: "power1.out",
							},
							0.4
						);

					useTitleA = !useTitleA;
				}

				// ------------------------------
				// 텍스트 박스 Flip
				// ------------------------------
				const boxes = [
					document.querySelector(".box1"),
					document.querySelector(".box2"),
					document.querySelector(".box3"),
					document.querySelector(".box4"),
					document.querySelector(".box5"),
					document.querySelector(".box6"),
					document.querySelector(".box7"),
				];
				let useBoxA = [true, true, true, true, true, true, true];

				function flipBox(index, newText, top, left, color, size, weight) {
					let box = boxes[index];
					let boxA = box.querySelector(".boxA");
					let boxB = box.querySelector(".boxB");
					let outEl = useBoxA[index] ? boxA : boxB;
					let inEl = useBoxA[index] ? boxB : boxA;

					inEl.innerHTML = newText;
					gsap.set(inEl, {
						opacity: 0,
						top: top,
						left: left,
						color: color || "#000",
						fontSize: size,
						fontWeight: weight,
					});

					gsap
						.timeline()
						.to(outEl, {
							top: top,
							left: left,
							color: color || "#000",
							fontSize: size,
							fontWeight: weight,
							opacity: 0,
							duration: 1,
							ease: "power1.out",
						})
						.to(
							inEl,
							{
								top: top,
								left: left,
								color: color || "#000",
								fontSize: size,
								fontWeight: weight,
								opacity: 1,
								duration: 1,
								ease: "power1.out",
							},
							0.2
						);

					useBoxA[index] = !useBoxA[index];
				}

				// ------------------------------
				// Bar 박스 제어
				// ------------------------------
				const bars = [
					document.querySelector(".bar1"),
					document.querySelector(".bar2"),
					document.querySelector(".bar3"),
					document.querySelector(".bar4"),
				];

				function updateBar(bar, data, name) {
					const top = data[`${name}Top`] || 0;
					const left = data[`${name}Left`] || 0;
					const width = data[`${name}Width`] || 100;
					const height = data[`${name}Height`] || 4;
					const bg = data[`${name}Bg`] || "#333";
					const border = data[`${name}Border`] || "none";

					gsap.to(bar, {
						top,
						left,
						width,
						height,
						backgroundColor: bg,
						border,
						duration: 1,
						ease: "power2.out",
					});
				}

				// ------------------------------
				// ScrollTrigger 적용
				// ------------------------------
				document.querySelectorAll("section.panel").forEach((sec) => {
					ScrollTrigger.create({
						trigger: sec,
						start: "top center",
						onEnter: () => applySection(sec.dataset),
						onEnterBack: () => applySection(sec.dataset),
					});
				});

				function applySection(dataset) {
					// 타이틀/서브타이틀
					flipHeader(
						dataset.subtitle,
						dataset.title,
						dataset.subtitleColor,
						dataset.titleColor,
						dataset.subtitleSize, // 추가
						dataset.titleSize,
						dataset.titleTop // 추가
					);

					// 박스들
					for (let i = 1; i <= boxes.length; i++) {
						flipBox(
							i - 1,
							dataset[`box${i}Text`] || "",
							dataset[`box${i}Top`] || 0,
							dataset[`box${i}Left`] || 0,
							dataset[`box${i}Color`] || "#000",
							dataset[`box${i}Size`] || "16px",
							dataset[`box${i}Weight`] || "400"
						);
					}

					// bar들
					updateBar(bars[0], dataset, "bar1");
					updateBar(bars[1], dataset, "bar2");
					updateBar(bars[2], dataset, "bar3");
					updateBar(bars[3], dataset, "bar4");

					// fixed-header 제어
					if (document.querySelector(".fixed-header")) {
						gsap.to(".fixed-header", {
							top: dataset.headerTop || 0,
							left: dataset.headerLeft || 0,
							duration: 1,
							ease: "power2.out",
						});
					}
					// 배경색
					if (dataset.bg) {
						gsap.to(document.body, {
							backgroundColor: dataset.bg,
							duration: 1,
						});
					}
				}
			});
		</script>
	</body>
</html>
